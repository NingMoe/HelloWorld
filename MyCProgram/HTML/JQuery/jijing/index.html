<!DOCTYPE html>
<html>

<head>
    <title>基金专业分析</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <script src="http://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>
    <script src="http://apps.bdimg.com/libs/vue/1.0.14/vue.js"></script>
    <!--
    <script src="./data/2017-11-19-top100.json"></script>
     <link rel="stylesheet" href="./base.css" type="text/css" />
--> <link rel="stylesheet" href="http://xhu219.s3.91sc.top/base.css?t=20171118" type="text/css" />
  
</head>

<body>
    <div width=100%>
        <script type="text/x-template" id="grid-template">
            <hr style="border-width: 2px ;border-color: red" />
            <br />
            <table style="clear: both;">
                <thead>
                    <tr id="header">
                        <th v-for="key in columns" @click="sortBy(key)" :class="{ active: sortKey == key }">
                            {{ key | changeHeader }}
                            <span class="arrow" :class="sortOrders[key] > 0 ? 'asc' : 'dsc'"></span>
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <tr v-for="entry in filteredData">
                        <td v-for="key in columns">
                            <div v-if="displayInDiv(key)"><a :href="'http://fund.eastmoney.com/'+entry['jijing_Code']+'.html?spm=search'" target="_blank">{{entry[key] }}</a></div>
                            <div v-else>{{entry[key] }}</div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <br />
        </script>
        <div id="demo">
            <form id="search">
                <br />
                <div style="font-size: 40px;font-weight: bold">
                    <input name="query" v-model="searchQuery" width="50px" height="90px" style="font-size: 80px"> <b style="font-size: 80px">Search</b>
                </div>
                <div style="clear:both" />
                <br />
            </form>
            <demo-grid :data="gridData" :columns="gridColumns" :filter-key="searchQuery"></demo-grid>
        </div>
        <!--<script src="base.js"></script>-->
        <script>
        // 对Date的扩展，将 Date 转化为指定格式的String  
        // 月(M)、日(d)、小时(h)、分(m)、秒(s)、季度(q) 可以用 1-2 个占位符，   
        // 年(y)可以用 1-4 个占位符，毫秒(S)只能用 1 个占位符(是 1-3 位的数字)   
        Date.prototype.Format = function(fmt) { //author: meizz   
            var o = {
                "M+": this.getMonth() + 1, //月份   
                "d+": this.getDate()-1, //日   
                "H+": this.getHours(), //小时   
                "m+": this.getMinutes(), //分   
                "s+": this.getSeconds(), //秒   
                "q+": Math.floor((this.getMonth() + 3) / 3), //季度   
                "S": this.getMilliseconds() //毫秒   
            };
            if (/(y+)/.test(fmt)) fmt = fmt.replace(RegExp.$1, (this.getFullYear() + "").substr(4 - RegExp.$1.length));
            for (var k in o)
                if (new RegExp("(" + k + ")").test(fmt)) fmt = fmt.replace(RegExp.$1, (RegExp.$1.length == 1) ? (o[k]) : (("00" + o[k]).substr(("" + o[k]).length)));
            return fmt;
        }

        var time1 = new Date().Format("yyyy-MM-dd");
        

        function loadScript(url, callback) {
            var script = document.createElement("script");
            script.type = "text/javascript";
            if (typeof(callback) != "undefined") {
                if (script.readyState) {
                    script.onreadystatechange = function() {
                        if (script.readyState == "loaded" || script.readyState == "complete") {
                            script.onreadystatechange = null;
                            callback();
                        }
                    };
                } else {
                    script.onload = function() {
                        callback();
                    };
                }
            }
            script.src = url;
            document.body.appendChild(script);
        }

        $(document).ready(function() {

            loadScript("http://xhu219.s3.91sc.top/data/"+time1+".json?t=" + Math.random(), function() { //get all the select item
                loadScript("http://xhu219.s3.91sc.top/base.js?t="+Math.random(), function() {

                });
            });

        });
        </script>
</body>

</html>